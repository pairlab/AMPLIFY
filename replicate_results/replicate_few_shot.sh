# Motion Tokenizer
python train_motion_tokenizer.py run_name=libero_10_motion_tokenizer train_datasets=[libero_10:traj1.0] val_datasets=[libero_10:traj-0.1]
python train_motion_tokenizer.py run_name=libero_object_motion_tokenizer train_datasets=[libero_object:traj1.0] val_datasets=[libero_object:traj-0.1]
python train_motion_tokenizer.py run_name=libero_spatial_motion_tokenizer train_datasets=[libero_spatial:traj1.0] val_datasets=[libero_spatial:traj-0.1]
python train_motion_tokenizer.py run_name=libero_goal_motion_tokenizer train_datasets=[libero_goal:traj1.0] val_datasets=[libero_goal:traj-0.1]
python train_motion_tokenizer.py run_name=libero_90_motion_tokenizer train_datasets=[libero_90:traj1.0] val_datasets=[libero_90:traj-0.1]

# Forward Dynamics (uses Motion Tokenizer checkpoints, same as replicate_bc.sh)
python train_forward_dynamics.py run_name=libero_10_forward_dynamics forward_dynamics.motion_tokenizer.checkpoint=checkpoints/motion_tokenizer/libero_10_motion_tokenizer/latest.pt train_datasets=[libero_10:traj1.0] val_datasets=[libero_10:traj-0.1]
python train_forward_dynamics.py run_name=libero_object_forward_dynamics forward_dynamics.motion_tokenizer.checkpoint=checkpoints/motion_tokenizer/libero_object_motion_tokenizer/latest.pt train_datasets=[libero_object:traj1.0] val_datasets=[libero_object:traj-0.1]
python train_forward_dynamics.py run_name=libero_spatial_forward_dynamics forward_dynamics.motion_tokenizer.checkpoint=checkpoints/motion_tokenizer/libero_spatial_motion_tokenizer/latest.pt train_datasets=[libero_spatial:traj1.0] val_datasets=[libero_spatial:traj-0.1]
python train_forward_dynamics.py run_name=libero_goal_forward_dynamics forward_dynamics.motion_tokenizer.checkpoint=checkpoints/motion_tokenizer/libero_goal_motion_tokenizer/latest.pt train_datasets=[libero_goal:traj1.0] val_datasets=[libero_goal:traj-0.1]
python train_forward_dynamics.py run_name=libero_90_forward_dynamics forward_dynamics.motion_tokenizer.checkpoint=checkpoints/motion_tokenizer/libero_90_motion_tokenizer/latest.pt train_datasets=[libero_90:traj1.0] val_datasets=[libero_90:traj-0.1]

# Inverse Dynamics (uses Motion Tokenizer and Forward Dynamics checkpoints)
python train_inverse_dynamics.py run_name=libero_10_inverse_dynamics_2demos motion_tokenizer_checkpoint=checkpoints/motion_tokenizer/libero_10_motion_tokenizer/latest.pt forward_dynamics_checkpoint=checkpoints/forward_dynamics/libero_10_forward_dynamics/latest.pt train_datasets=[libero_10:action0.04] val_datasets=[libero_10:action-0.1]
python train_inverse_dynamics.py run_name=libero_10_inverse_dynamics_5demos motion_tokenizer_checkpoint=checkpoints/motion_tokenizer/libero_10_motion_tokenizer/latest.pt forward_dynamics_checkpoint=checkpoints/forward_dynamics/libero_10_forward_dynamics/latest.pt train_datasets=[libero_10:action0.1] val_datasets=[libero_10:action-0.1]
python train_inverse_dynamics.py run_name=libero_10_inverse_dynamics_10demos motion_tokenizer_checkpoint=checkpoints/motion_tokenizer/libero_10_motion_tokenizer/latest.pt forward_dynamics_checkpoint=checkpoints/forward_dynamics/libero_10_forward_dynamics/latest.pt train_datasets=[libero_10:action0.2] val_datasets=[libero_10:action-0.1]
python train_inverse_dynamics.py run_name=libero_object_inverse_dynamics_2demos motion_tokenizer_checkpoint=checkpoints/motion_tokenizer/libero_object_motion_tokenizer/latest.pt forward_dynamics_checkpoint=checkpoints/forward_dynamics/libero_object_forward_dynamics/latest.pt train_datasets=[libero_object:action0.04] val_datasets=[libero_object:action-0.1]
python train_inverse_dynamics.py run_name=libero_object_inverse_dynamics_5demos motion_tokenizer_checkpoint=checkpoints/motion_tokenizer/libero_object_motion_tokenizer/latest.pt forward_dynamics_checkpoint=checkpoints/forward_dynamics/libero_object_forward_dynamics/latest.pt train_datasets=[libero_object:action0.1] val_datasets=[libero_object:action-0.1]
python train_inverse_dynamics.py run_name=libero_object_inverse_dynamics_10demos motion_tokenizer_checkpoint=checkpoints/motion_tokenizer/libero_object_motion_tokenizer/latest.pt forward_dynamics_checkpoint=checkpoints/forward_dynamics/libero_object_forward_dynamics/latest.pt train_datasets=[libero_object:action0.2] val_datasets=[libero_object:action-0.1]
python train_inverse_dynamics.py run_name=libero_spatial_inverse_dynamics_2demos motion_tokenizer_checkpoint=checkpoints/motion_tokenizer/libero_spatial_motion_tokenizer/latest.pt forward_dynamics_checkpoint=checkpoints/forward_dynamics/libero_spatial_forward_dynamics/latest.pt train_datasets=[libero_spatial:action0.04] val_datasets=[libero_spatial:action-0.1]
python train_inverse_dynamics.py run_name=libero_spatial_inverse_dynamics_5demos motion_tokenizer_checkpoint=checkpoints/motion_tokenizer/libero_spatial_motion_tokenizer/latest.pt forward_dynamics_checkpoint=checkpoints/forward_dynamics/libero_spatial_forward_dynamics/latest.pt train_datasets=[libero_spatial:action0.1] val_datasets=[libero_spatial:action-0.1]
python train_inverse_dynamics.py run_name=libero_spatial_inverse_dynamics_10demos motion_tokenizer_checkpoint=checkpoints/motion_tokenizer/libero_spatial_motion_tokenizer/latest.pt forward_dynamics_checkpoint=checkpoints/forward_dynamics/libero_spatial_forward_dynamics/latest.pt train_datasets=[libero_spatial:action0.2] val_datasets=[libero_spatial:action-0.1]
python train_inverse_dynamics.py run_name=libero_goal_inverse_dynamics_2demos motion_tokenizer_checkpoint=checkpoints/motion_tokenizer/libero_goal_motion_tokenizer/latest.pt forward_dynamics_checkpoint=checkpoints/forward_dynamics/libero_goal_forward_dynamics/latest.pt train_datasets=[libero_goal:action0.04] val_datasets=[libero_goal:action-0.1]
python train_inverse_dynamics.py run_name=libero_goal_inverse_dynamics_5demos motion_tokenizer_checkpoint=checkpoints/motion_tokenizer/libero_goal_motion_tokenizer/latest.pt forward_dynamics_checkpoint=checkpoints/forward_dynamics/libero_goal_forward_dynamics/latest.pt train_datasets=[libero_goal:action0.1] val_datasets=[libero_goal:action-0.1]
python train_inverse_dynamics.py run_name=libero_goal_inverse_dynamics_10demos motion_tokenizer_checkpoint=checkpoints/motion_tokenizer/libero_goal_motion_tokenizer/latest.pt forward_dynamics_checkpoint=checkpoints/forward_dynamics/libero_goal_forward_dynamics/latest.pt train_datasets=[libero_goal:action0.2] val_datasets=[libero_goal:action-0.1]
python train_inverse_dynamics.py run_name=libero_90_inverse_dynamics_2demos motion_tokenizer_checkpoint=checkpoints/motion_tokenizer/libero_90_motion_tokenizer/latest.pt forward_dynamics_checkpoint=checkpoints/forward_dynamics/libero_90_forward_dynamics/latest.pt train_datasets=[libero_90:action0.04] val_datasets=[libero_90:action-0.1]
python train_inverse_dynamics.py run_name=libero_90_inverse_dynamics_5demos motion_tokenizer_checkpoint=checkpoints/motion_tokenizer/libero_90_motion_tokenizer/latest.pt forward_dynamics_checkpoint=checkpoints/forward_dynamics/libero_90_forward_dynamics/latest.pt train_datasets=[libero_90:action0.1] val_datasets=[libero_90:action-0.1]
python train_inverse_dynamics.py run_name=libero_90_inverse_dynamics_10demos motion_tokenizer_checkpoint=checkpoints/motion_tokenizer/libero_90_motion_tokenizer/latest.pt forward_dynamics_checkpoint=checkpoints/forward_dynamics/libero_90_forward_dynamics/latest.pt train_datasets=[libero_90:action0.2] val_datasets=[libero_90:action-0.1]

# Bundle
python -m amplify.bundle_amplify --mt_ckpt checkpoints/motion_tokenizer/libero_10_motion_tokenizer/latest.pt --fd_ckpt checkpoints/forward_dynamics/libero_10_forward_dynamics/latest.pt --id_ckpt checkpoints/inverse_dynamics/libero_10_inverse_dynamics_2demos_seed_0/latest.pt --name libero_10_2demos
python -m amplify.bundle_amplify --mt_ckpt checkpoints/motion_tokenizer/libero_10_motion_tokenizer/latest.pt --fd_ckpt checkpoints/forward_dynamics/libero_10_forward_dynamics/latest.pt --id_ckpt checkpoints/inverse_dynamics/libero_10_inverse_dynamics_5demos_seed_0/latest.pt --name libero_10_5demos
python -m amplify.bundle_amplify --mt_ckpt checkpoints/motion_tokenizer/libero_10_motion_tokenizer/latest.pt --fd_ckpt checkpoints/forward_dynamics/libero_10_forward_dynamics/latest.pt --id_ckpt checkpoints/inverse_dynamics/libero_10_inverse_dynamics_10demos_seed_0/latest.pt --name libero_10_10demos
python -m amplify.bundle_amplify --mt_ckpt checkpoints/motion_tokenizer/libero_object_motion_tokenizer/latest.pt --fd_ckpt checkpoints/forward_dynamics/libero_object_forward_dynamics/latest.pt --id_ckpt checkpoints/inverse_dynamics/libero_object_inverse_dynamics_2demos_seed_0/latest.pt --name libero_object_2demos
python -m amplify.bundle_amplify --mt_ckpt checkpoints/motion_tokenizer/libero_object_motion_tokenizer/latest.pt --fd_ckpt checkpoints/forward_dynamics/libero_object_forward_dynamics/latest.pt --id_ckpt checkpoints/inverse_dynamics/libero_object_inverse_dynamics_5demos_seed_0/latest.pt --name libero_object_5demos
python -m amplify.bundle_amplify --mt_ckpt checkpoints/motion_tokenizer/libero_object_motion_tokenizer/latest.pt --fd_ckpt checkpoints/forward_dynamics/libero_object_forward_dynamics/latest.pt --id_ckpt checkpoints/inverse_dynamics/libero_object_inverse_dynamics_10demos_seed_0/latest.pt --name libero_object_10demos
python -m amplify.bundle_amplify --mt_ckpt checkpoints/motion_tokenizer/libero_spatial_motion_tokenizer/latest.pt --fd_ckpt checkpoints/forward_dynamics/libero_spatial_forward_dynamics/latest.pt --id_ckpt checkpoints/inverse_dynamics/libero_spatial_inverse_dynamics_2demos_seed_0/latest.pt --name libero_spatial_2demos
python -m amplify.bundle_amplify --mt_ckpt checkpoints/motion_tokenizer/libero_spatial_motion_tokenizer/latest.pt --fd_ckpt checkpoints/forward_dynamics/libero_spatial_forward_dynamics/latest.pt --id_ckpt checkpoints/inverse_dynamics/libero_spatial_inverse_dynamics_5demos_seed_0/latest.pt --name libero_spatial_5demos
python -m amplify.bundle_amplify --mt_ckpt checkpoints/motion_tokenizer/libero_spatial_motion_tokenizer/latest.pt --fd_ckpt checkpoints/forward_dynamics/libero_spatial_forward_dynamics/latest.pt --id_ckpt checkpoints/inverse_dynamics/libero_spatial_inverse_dynamics_10demos_seed_0/latest.pt --name libero_spatial_10demos
python -m amplify.bundle_amplify --mt_ckpt checkpoints/motion_tokenizer/libero_goal_motion_tokenizer/latest.pt --fd_ckpt checkpoints/forward_dynamics/libero_goal_forward_dynamics/latest.pt --id_ckpt checkpoints/inverse_dynamics/libero_goal_inverse_dynamics_2demos_seed_0/latest.pt --name libero_goal_2demos
python -m amplify.bundle_amplify --mt_ckpt checkpoints/motion_tokenizer/libero_goal_motion_tokenizer/latest.pt --fd_ckpt checkpoints/forward_dynamics/libero_goal_forward_dynamics/latest.pt --id_ckpt checkpoints/inverse_dynamics/libero_goal_inverse_dynamics_5demos_seed_0/latest.pt --name libero_goal_5demos
python -m amplify.bundle_amplify --mt_ckpt checkpoints/motion_tokenizer/libero_goal_motion_tokenizer/latest.pt --fd_ckpt checkpoints/forward_dynamics/libero_goal_forward_dynamics/latest.pt --id_ckpt checkpoints/inverse_dynamics/libero_goal_inverse_dynamics_10demos_seed_0/latest.pt --name libero_goal_10demos
python -m amplify.bundle_amplify --mt_ckpt checkpoints/motion_tokenizer/libero_90_motion_tokenizer/latest.pt --fd_ckpt checkpoints/forward_dynamics/libero_90_forward_dynamics/latest.pt --id_ckpt checkpoints/inverse_dynamics/libero_90_inverse_dynamics_2demos_seed_0/latest.pt --name libero_90_2demos
python -m amplify.bundle_amplify --mt_ckpt checkpoints/motion_tokenizer/libero_90_motion_tokenizer/latest.pt --fd_ckpt checkpoints/forward_dynamics/libero_90_forward_dynamics/latest.pt --id_ckpt checkpoints/inverse_dynamics/libero_90_inverse_dynamics_5demos_seed_0/latest.pt --name libero_90_5demos
python -m amplify.bundle_amplify --mt_ckpt checkpoints/motion_tokenizer/libero_90_motion_tokenizer/latest.pt --fd_ckpt checkpoints/forward_dynamics/libero_90_forward_dynamics/latest.pt --id_ckpt checkpoints/inverse_dynamics/libero_90_inverse_dynamics_10demos_seed_0/latest.pt --name libero_90_10demos


# Eval
python eval_libero.py dataset=[libero_10] run_name=libero_10_2demos amplify_checkpoint=checkpoints/AMPLIFY/libero_10_2demos.pt
python eval_libero.py dataset=[libero_10] run_name=libero_10_5demos amplify_checkpoint=checkpoints/AMPLIFY/libero_10_5demos.pt
python eval_libero.py dataset=[libero_10] run_name=libero_10_10demos amplify_checkpoint=checkpoints/AMPLIFY/libero_10_10demos.pt
python eval_libero.py dataset=[libero_object] run_name=libero_object_2demos amplify_checkpoint=checkpoints/AMPLIFY/libero_object_2demos.pt
python eval_libero.py dataset=[libero_object] run_name=libero_object_5demos amplify_checkpoint=checkpoints/AMPLIFY/libero_object_5demos.pt
python eval_libero.py dataset=[libero_object] run_name=libero_object_10demos amplify_checkpoint=checkpoints/AMPLIFY/libero_object_10demos.pt
python eval_libero.py dataset=[libero_spatial] run_name=libero_spatial_2demos amplify_checkpoint=checkpoints/AMPLIFY/libero_spatial_2demos.pt
python eval_libero.py dataset=[libero_spatial] run_name=libero_spatial_5demos amplify_checkpoint=checkpoints/AMPLIFY/libero_spatial_5demos.pt
python eval_libero.py dataset=[libero_spatial] run_name=libero_spatial_10demos amplify_checkpoint=checkpoints/AMPLIFY/libero_spatial_10demos.pt
python eval_libero.py dataset=[libero_goal] run_name=libero_goal_2demos amplify_checkpoint=checkpoints/AMPLIFY/libero_goal_2demos.pt
python eval_libero.py dataset=[libero_goal] run_name=libero_goal_5demos amplify_checkpoint=checkpoints/AMPLIFY/libero_goal_5demos.pt
python eval_libero.py dataset=[libero_goal] run_name=libero_goal_10demos amplify_checkpoint=checkpoints/AMPLIFY/libero_goal_10demos.pt
python eval_libero.py dataset=[libero_90] run_name=libero_90_2demos amplify_checkpoint=checkpoints/AMPLIFY/libero_90_2demos.pt n_envs=1
python eval_libero.py dataset=[libero_90] run_name=libero_90_5demos amplify_checkpoint=checkpoints/AMPLIFY/libero_90_5demos.pt n_envs=1
python eval_libero.py dataset=[libero_90] run_name=libero_90_10demos amplify_checkpoint=checkpoints/AMPLIFY/libero_90_10demos.pt n_envs=1